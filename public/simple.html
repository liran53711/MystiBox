<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MystiBox - å® ç‰©ç›²ç›’</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #87CEEB 0%, #FFDAB9 100%);
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="app">
        <!-- å¯¼èˆªæ  -->
        <nav class="glass-card p-4 mb-8">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-2xl font-bold text-white">ğŸ MystiBox</h1>
                <div class="space-x-4">
                    <button onclick="showHome()" class="text-white hover:text-yellow-300">é¦–é¡µ</button>
                    <button onclick="showStore()" class="text-white hover:text-yellow-300">å•†åº—</button>
                    <button onclick="showMyPets()" class="text-white hover:text-yellow-300">æˆ‘çš„å® ç‰©</button>
                    <button onclick="showPlaza()" class="text-white hover:text-yellow-300">å® ç‰©å¹¿åœº</button>
                    <button onclick="showLogin()" id="loginBtn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">ç™»å½•</button>
                    <span id="userInfo" class="text-white hidden"></span>
                </div>
            </div>
        </nav>

        <!-- ä¸»è¦å†…å®¹ -->
        <div class="container mx-auto px-4">
            <!-- æ¬¢è¿åŒºåŸŸ -->
            <div class="text-center py-16 mb-12">
                <h1 class="text-5xl font-bold text-white mb-6">
                    æ¬¢è¿æ¥åˆ° <span class="text-yellow-300">MystiBox</span>
                </h1>
                <p class="text-xl text-white mb-8 max-w-2xl mx-auto">
                    æ¢ç´¢ç¥ç§˜çš„å® ç‰©ä¸–ç•Œï¼Œæ”¶é›†å¯çˆ±çš„ä¼™ä¼´ï¼Œä½“éªŒå……æ»¡æƒŠå–œçš„å¼€ç›’ä¹è¶£
                </p>
                <button onclick="showStore()" class="bg-yellow-500 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-yellow-600 transform hover:scale-105 transition-all">
                    ğŸ® å¼€å§‹æ¢ç´¢
                </button>
            </div>

            <!-- ç›²ç›’å•†åº— -->
            <div id="store" class="hidden">
                <h2 class="text-3xl font-bold text-white text-center mb-8">ğŸ›ï¸ ç›²ç›’å•†åº—</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="seriesList">
                    <!-- ç³»åˆ—å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>

            <!-- ç³»åˆ—è¯¦æƒ… -->
            <div id="seriesDetail" class="hidden">
                <div class="max-w-4xl mx-auto">
                    <button onclick="showStore()" class="mb-4 text-white hover:text-yellow-300">â† è¿”å›å•†åº—</button>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="aspect-square rounded-lg overflow-hidden">
                            <img id="seriesImage" class="w-full h-full object-cover" />
                        </div>
                        <div class="glass-card p-6">
                            <h1 id="seriesName" class="text-3xl font-bold text-white mb-4"></h1>
                            <p id="seriesDescription" class="text-white mb-6"></p>

                            <div class="mb-6">
                                <div class="flex justify-between mb-2">
                                    <span class="text-white">ä»·æ ¼:</span>
                                    <span id="seriesPrice" class="font-bold text-yellow-300"></span>
                                </div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-white">æˆ‘çš„ç§¯åˆ†:</span>
                                    <span id="userPoints" class="font-bold text-green-300">1000</span>
                                </div>
                            </div>

                            <button id="drawButton" onclick="drawPet()" class="w-full bg-red-500 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-red-600 transform hover:scale-105 transition-all">
                                ğŸ² æŠ½å–ç›²ç›’
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æˆ‘çš„å® ç‰© -->
            <div id="myPets" class="hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-white">æˆ‘çš„å® ç‰©æ”¶è—</h2>
                    <div class="text-white">å…± <span id="petCount">0</span> åªå® ç‰©</div>
                </div>

                <div id="petsList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <!-- å® ç‰©å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>

                <div id="noPets" class="text-center py-16 hidden">
                    <div class="text-6xl mb-4">ğŸ</div>
                    <h3 class="text-xl font-semibold text-white mb-2">è¿˜æ²¡æœ‰å® ç‰©</h3>
                    <p class="text-white mb-4">å»å•†åº—æŠ½å–ä½ çš„ç¬¬ä¸€åªå® ç‰©å§ï¼</p>
                    <button onclick="showStore()" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        å‰å¾€å•†åº—
                    </button>
                </div>
            </div>

            <!-- å® ç‰©å¹¿åœº -->
            <div id="plaza" class="hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-white">å® ç‰©å¹¿åœº</h2>
                    <input type="text" id="plazaSearch" placeholder="æœç´¢å® ç‰©æˆ–ç”¨æˆ·..." class="px-4 py-2 border rounded-lg w-64" />
                </div>

                <div id="plazaPosts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- å¸–å­å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>

        <!-- ç™»å½•æ¨¡æ€æ¡† -->
        <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="glass-card p-6 max-w-md w-full mx-4">
                <h2 class="text-2xl font-bold text-white text-center mb-6">ç™»å½•</h2>
                <div class="space-y-4">
                    <input id="username" type="text" placeholder="ç”¨æˆ·å" class="w-full px-4 py-2 rounded border" value="testuser">
                    <input id="password" type="password" placeholder="å¯†ç " class="w-full px-4 py-2 rounded border" value="test123456">
                    <button onclick="login()" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">ç™»å½•</button>
                    <button onclick="hideLogin()" class="w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-600">å–æ¶ˆ</button>
                </div>
                <p class="text-sm text-white mt-4 text-center">æµ‹è¯•è´¦å·: testuser / test123456</p>
            </div>
        </div>

        <!-- æŠ½å–ç»“æœæ¨¡æ€æ¡† -->
        <div id="resultModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="glass-card p-6 max-w-md w-full mx-4 text-center">
                <h2 class="text-2xl font-bold text-white mb-4">ğŸ‰ æ­å–œè·å¾—</h2>
                <div class="mb-4">
                    <img id="resultImage" class="w-32 h-32 mx-auto rounded-lg mb-4" />
                    <h3 id="resultName" class="text-xl font-bold text-white mb-2"></h3>
                    <p id="resultDescription" class="text-white text-sm mb-4"></p>
                    <div id="resultRarity" class="flex justify-center space-x-1 mb-4">
                        <!-- æ˜Ÿçº§æ˜¾ç¤º -->
                    </div>
                </div>
                <div class="space-y-2">
                    <button onclick="hideResult()" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">ç»§ç»­æŠ½å–</button>
                    <p class="text-sm text-white">å‰©ä½™ç§¯åˆ†: <span id="remainingPoints"></span></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€çŠ¶æ€
        let currentUser = null;
        let currentSeries = null;
        let userPets = [];
        let plazaPosts = [];
        
        // æ¨¡æ‹Ÿæ•°æ®
        const mockSeries = [
            {
                id: 1,
                name: 'æ£®æ—ç²¾çµç³»åˆ—',
                description: 'æ¥è‡ªç¥ç§˜æ£®æ—çš„å¯çˆ±ç²¾çµä»¬ï¼Œæ¯ä¸€åªéƒ½æ‹¥æœ‰ç‹¬ç‰¹çš„é­”æ³•èƒ½åŠ›',
                image: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=400&fit=crop',
                price: 100,
                pets: [
                    { id: '1', name: 'å°ç²¾çµ', rarity: 1, description: 'æ¥è‡ªæ£®æ—çš„å°ç²¾çµ', image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop' },
                    { id: '2', name: 'æ£®æ—å®ˆæŠ¤è€…', rarity: 2, description: 'å®ˆæŠ¤æ£®æ—çš„ç²¾çµ', image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop' },
                    { id: '3', name: 'å¤æ ‘ä¹‹çµ', rarity: 3, description: 'åƒå¹´å¤æ ‘çš„çµé­‚', image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop' },
                    { id: '4', name: 'æ£®æ—å¥³ç‹', rarity: 4, description: 'æ£®æ—çš„ç»Ÿæ²»è€…', image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop' }
                ]
            },
            {
                id: 2,
                name: 'æµ·æ´‹å†’é™©ç³»åˆ—',
                description: 'æ·±æµ·ä¸­çš„å¥‡å¦™ç”Ÿç‰©ï¼Œå¸¦ä½ æ¢ç´¢æœªçŸ¥çš„æµ·åº•ä¸–ç•Œ',
                image: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=400&fit=crop',
                price: 120,
                pets: [
                    { id: '5', name: 'å°æµ·æ˜Ÿ', rarity: 1, description: 'å¯çˆ±çš„å°æµ·æ˜Ÿ', image: 'https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=300&h=300&fit=crop' },
                    { id: '6', name: 'çŠç‘šç²¾çµ', rarity: 2, description: 'çŠç‘šç¤çš„å®ˆæŠ¤è€…', image: 'https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=300&h=300&fit=crop' },
                    { id: '7', name: 'æ·±æµ·å·¨å…½', rarity: 3, description: 'æ·±æµ·çš„ç¥ç§˜ç”Ÿç‰©', image: 'https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=300&h=300&fit=crop' },
                    { id: '8', name: 'æµ·æ´‹ä¹‹ç‹', rarity: 4, description: 'ç»Ÿæ²»æµ·æ´‹çš„ç‹è€…', image: 'https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=300&h=300&fit=crop' }
                ]
            },
            {
                id: 3,
                name: 'æ˜Ÿç©ºå®ˆæŠ¤ç³»åˆ—',
                description: 'æ¥è‡ªæ˜Ÿç©ºçš„ç¥ç§˜å®ˆæŠ¤è€…ï¼Œå®ˆæŠ¤ç€å®‡å®™çš„ç§˜å¯†',
                image: 'https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=400&h=400&fit=crop',
                price: 150,
                pets: [
                    { id: '9', name: 'å°æ˜Ÿæ˜Ÿ', rarity: 1, description: 'é—ªé—ªå‘å…‰çš„å°æ˜Ÿæ˜Ÿ', image: 'https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=300&fit=crop' },
                    { id: '10', name: 'æœˆäº®ç²¾çµ', rarity: 2, description: 'æœˆå…‰ä¸‹çš„ç²¾çµ', image: 'https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=300&fit=crop' },
                    { id: '11', name: 'æ˜Ÿåº§å®ˆæŠ¤è€…', rarity: 3, description: 'å®ˆæŠ¤æ˜Ÿåº§çš„ä½¿è€…', image: 'https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=300&fit=crop' },
                    { id: '12', name: 'å®‡å®™ä¹‹ç¥', rarity: 5, description: 'åˆ›é€ å®‡å®™çš„ç¥æ˜', image: 'https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=300&fit=crop' }
                ]
            }
        ];

        // æ˜¾ç¤º/éšè—åŠŸèƒ½
        function hideAllPages() {
            document.getElementById('store').classList.add('hidden');
            document.getElementById('seriesDetail').classList.add('hidden');
            document.getElementById('myPets').classList.add('hidden');
            document.getElementById('plaza').classList.add('hidden');
            // æ˜¾ç¤ºé¦–é¡µå†…å®¹
            document.querySelector('.text-center.py-16').style.display = 'block';
        }

        function showHome() {
            hideAllPages();
        }

        function showLogin() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function hideLogin() {
            document.getElementById('loginModal').classList.add('hidden');
        }

        function showStore() {
            hideAllPages();
            document.querySelector('.text-center.py-16').style.display = 'none';
            document.getElementById('store').classList.remove('hidden');
            renderSeries();
        }

        function showMyPets() {
            hideAllPages();
            document.querySelector('.text-center.py-16').style.display = 'none';
            document.getElementById('myPets').classList.remove('hidden');
            renderMyPets();
        }

        function showPlaza() {
            hideAllPages();
            document.querySelector('.text-center.py-16').style.display = 'none';
            document.getElementById('plaza').classList.remove('hidden');
            renderPlaza();
        }

        function showSeriesDetail(seriesId) {
            currentSeries = mockSeries.find(s => s.id === seriesId);
            if (!currentSeries) return;

            hideAllPages();
            document.querySelector('.text-center.py-16').style.display = 'none';
            document.getElementById('seriesDetail').classList.remove('hidden');

            document.getElementById('seriesImage').src = currentSeries.image;
            document.getElementById('seriesName').textContent = currentSeries.name;
            document.getElementById('seriesDescription').textContent = currentSeries.description;
            document.getElementById('seriesPrice').textContent = currentSeries.price + ' ç§¯åˆ†';

            updateDrawButton();
        }

        function hideResult() {
            document.getElementById('resultModal').classList.add('hidden');
        }

        // ç™»å½•åŠŸèƒ½
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if ((username === 'testuser' && password === 'test123456') || 
                (username === 'demo' && password === 'demo123')) {
                currentUser = {
                    username: username,
                    points: 1000
                };
                
                document.getElementById('userInfo').textContent = `${username} (${currentUser.points}ç§¯åˆ†)`;
                document.getElementById('userInfo').classList.remove('hidden');
                document.getElementById('loginBtn').classList.add('hidden');
                
                hideLogin();
                updateDrawButton();
                alert('ç™»å½•æˆåŠŸï¼');
            } else {
                alert('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯');
            }
        }

        // æ¸²æŸ“ç³»åˆ—åˆ—è¡¨
        function renderSeries() {
            const container = document.getElementById('seriesList');
            container.innerHTML = mockSeries.map(series => `
                <div class="glass-card p-6 cursor-pointer hover:scale-105 transition-transform" onclick="showSeriesDetail(${series.id})">
                    <img src="${series.image}" alt="${series.name}" class="w-full h-48 object-cover rounded-lg mb-4">
                    <h3 class="text-xl font-bold text-white mb-2">${series.name}</h3>
                    <p class="text-white text-sm mb-4">${series.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-yellow-300 font-bold">${series.price} ç§¯åˆ†</span>
                        <span class="text-white text-sm">${series.pets.length} åªå® ç‰©</span>
                    </div>
                </div>
            `).join('');
        }

        // æ›´æ–°æŠ½å–æŒ‰é’®çŠ¶æ€
        function updateDrawButton() {
            const button = document.getElementById('drawButton');
            const pointsSpan = document.getElementById('userPoints');
            
            if (currentUser) {
                pointsSpan.textContent = currentUser.points;
                if (currentSeries && currentUser.points >= currentSeries.price) {
                    button.disabled = false;
                    button.textContent = `ğŸ² æŠ½å–ç›²ç›’ (${currentSeries.price} ç§¯åˆ†)`;
                    button.className = 'w-full bg-red-500 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-red-600 transform hover:scale-105 transition-all';
                } else {
                    button.disabled = true;
                    button.textContent = 'ç§¯åˆ†ä¸è¶³';
                    button.className = 'w-full bg-gray-500 text-white py-3 px-6 rounded-lg text-lg font-semibold cursor-not-allowed';
                }
            } else {
                pointsSpan.textContent = 'æœªç™»å½•';
                button.disabled = true;
                button.textContent = 'è¯·å…ˆç™»å½•';
                button.className = 'w-full bg-gray-500 text-white py-3 px-6 rounded-lg text-lg font-semibold cursor-not-allowed';
            }
        }

        // æŠ½å–å® ç‰©
        function drawPet() {
            if (!currentUser || !currentSeries || currentUser.points < currentSeries.price) {
                alert('æ— æ³•æŠ½å–');
                return;
            }

            // ç¨€æœ‰åº¦æƒé‡
            const rarityWeights = { 1: 50, 2: 30, 3: 15, 4: 4, 5: 1 };
            const random = Math.random() * 100;
            let targetRarity = 1;
            let cumulative = 0;

            for (const [rarity, weight] of Object.entries(rarityWeights)) {
                cumulative += weight;
                if (random <= cumulative) {
                    targetRarity = parseInt(rarity);
                    break;
                }
            }

            // é€‰æ‹©å® ç‰©
            const availablePets = currentSeries.pets.filter(p => p.rarity === targetRarity);
            const finalPets = availablePets.length > 0 ? availablePets : currentSeries.pets.filter(p => p.rarity === 1);
            const pet = finalPets[Math.floor(Math.random() * finalPets.length)];

            // æ‰£é™¤ç§¯åˆ†
            currentUser.points -= currentSeries.price;

            // æ·»åŠ åˆ°ç”¨æˆ·å® ç‰©æ”¶è—
            const userPet = {
                id: Date.now().toString(),
                pet: pet,
                nickname: null,
                obtainedAt: new Date().toISOString(),
                level: 1,
                exp: 0
            };
            userPets.push(userPet);

            // æ˜¾ç¤ºç»“æœ
            document.getElementById('resultImage').src = pet.babyImageUrl;
            document.getElementById('resultName').textContent = pet.name;
            document.getElementById('resultDescription').textContent = pet.story;
            document.getElementById('remainingPoints').textContent = currentUser.points;

            // æ˜¾ç¤ºæ˜Ÿçº§ (åŸºäºç¨€æœ‰åº¦æšä¸¾)
            const rarityContainer = document.getElementById('resultRarity');
            rarityContainer.innerHTML = '';
            const rarityLevels = { 'N': 1, 'R': 2, 'SR': 3, 'SSR': 4, 'UR': 5 };
            const level = rarityLevels[pet.rarity] || 1;
            for (let i = 1; i <= 5; i++) {
                const star = document.createElement('div');
                star.className = `w-4 h-4 rounded-full ${i <= level ? 'bg-yellow-400' : 'bg-gray-400'}`;
                rarityContainer.appendChild(star);
            }

            document.getElementById('resultModal').classList.remove('hidden');
            updateDrawButton();
        }

        // æ¸²æŸ“æˆ‘çš„å® ç‰©
        function renderMyPets() {
            const container = document.getElementById('petsList');
            const noPetsDiv = document.getElementById('noPets');
            const petCountSpan = document.getElementById('petCount');

            petCountSpan.textContent = userPets.length;

            if (userPets.length === 0) {
                container.style.display = 'none';
                noPetsDiv.classList.remove('hidden');
                return;
            }

            container.style.display = 'grid';
            noPetsDiv.classList.add('hidden');

            container.innerHTML = userPets.map(userPet => `
                <div class="glass-card p-4">
                    <div class="aspect-square rounded-lg overflow-hidden mb-4">
                        <img src="${userPet.pet.image}" alt="${userPet.pet.name}" class="w-full h-full object-cover">
                    </div>
                    <h3 class="text-white font-bold mb-2">${userPet.nickname || userPet.pet.name}</h3>
                    <p class="text-white text-sm mb-3">${userPet.pet.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-xs px-2 py-1 rounded ${getRarityBgColor(userPet.pet.rarity)}">${getRarityText(userPet.pet.rarity)}</span>
                        <span class="text-white text-sm">è·å¾—äº ${formatDate(userPet.obtainedAt)}</span>
                    </div>
                </div>
            `).join('');
        }

        // æ¸²æŸ“å® ç‰©å¹¿åœº
        function renderPlaza() {
            const container = document.getElementById('plazaPosts');

            container.innerHTML = plazaPosts.map(post => `
                <div class="glass-card p-6">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
                            <span class="text-white font-semibold">${post.username[0].toUpperCase()}</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-white">${post.username}</h3>
                            <p class="text-sm text-gray-300">${post.time}</p>
                        </div>
                    </div>

                    <div class="aspect-square rounded-lg overflow-hidden mb-4">
                        <img src="${post.petImage}" alt="${post.petName}" class="w-full h-full object-cover">
                    </div>

                    <h4 class="font-semibold text-white mb-2">${post.petName}</h4>
                    <p class="text-gray-300 text-sm mb-4">${post.description}</p>

                    <div class="flex justify-between items-center">
                        <div class="flex space-x-4">
                            <button class="flex items-center space-x-1 text-gray-300 hover:text-red-400">
                                <span>â¤ï¸</span>
                                <span class="text-sm">${post.likes}</span>
                            </button>
                            <button class="flex items-center space-x-1 text-gray-300 hover:text-blue-400">
                                <span>ğŸ’¬</span>
                                <span class="text-sm">${post.comments}</span>
                            </button>
                        </div>
                        <span class="text-xs px-2 py-1 rounded ${getRarityBgColor(post.rarity)}">${getRarityText(post.rarity)}</span>
                    </div>
                </div>
            `).join('');
        }

        // è¾…åŠ©å‡½æ•°
        function getRarityBgColor(rarity) {
            const colors = {
                'N': 'bg-gray-500 text-white',
                'R': 'bg-blue-500 text-white',
                'SR': 'bg-purple-500 text-white',
                'SSR': 'bg-yellow-500 text-white',
                'UR': 'bg-red-500 text-white'
            };
            return colors[rarity] || colors['N'];
        }

        function getRarityText(rarity) {
            const texts = {
                'N': 'æ™®é€š',
                'R': 'ç¨€æœ‰',
                'SR': 'å²è¯—',
                'SSR': 'ä¼ è¯´',
                'UR': 'ç¥è¯'
            };
            return texts[rarity] || 'æ™®é€š';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString();
        }

        // åˆå§‹åŒ–æ•°æ®
        function initializeMockData() {
            // åˆå§‹åŒ–å¹¿åœºå¸–å­
            plazaPosts = [
                {
                    id: 1,
                    username: 'å® ç‰©çˆ±å¥½è€…',
                    time: '2å°æ—¶å‰',
                    petName: 'é—ªå…‰å°ç²¾çµ',
                    petImage: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop',
                    description: 'ä»Šå¤©æŠ½åˆ°äº†æˆ‘çš„ç¬¬ä¸€åªæ£®æ—ç²¾çµï¼Œå¤ªå¼€å¿ƒäº†ï¼',
                    likes: 24,
                    comments: 8,
                    rarity: 'N'
                },
                {
                    id: 2,
                    username: 'æ˜Ÿç©ºæ”¶è—å®¶',
                    time: '5å°æ—¶å‰',
                    petName: 'æ˜Ÿè¾°å®ˆæŠ¤è€…',
                    petImage: 'https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=300&fit=crop',
                    description: 'æˆ‘çš„æ˜Ÿæ˜Ÿå®å®ç»ˆäºè¿›åŒ–äº†ï¼çœ‹çœ‹è¿™åä¸½çš„å½¢æ€ï¼',
                    likes: 56,
                    comments: 15,
                    rarity: 'SR'
                },
                {
                    id: 3,
                    username: 'æ–°æ‰‹ç©å®¶',
                    time: '1å¤©å‰',
                    petName: 'æ£®æ—å®ˆæŠ¤è€…',
                    petImage: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop',
                    description: 'æ–°æ‰‹ç¬¬ä¸€æŠ½å°±æ˜¯ç¨€æœ‰åº¦ï¼è¿æ°”å¤ªå¥½äº†ï¼',
                    likes: 12,
                    comments: 3,
                    rarity: 'R'
                }
            ];
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeMockData();
            renderSeries();
        });
    </script>
</body>
</html>
